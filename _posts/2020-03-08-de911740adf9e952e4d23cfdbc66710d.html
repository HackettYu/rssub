---
layout:      post
title:       LeetCode Weekly Contest 179 (1374~1377)
link:        https://programcz.github.io/2020/03/08/LeetCode-Weekly-Contest-179-(1374-1377).html
date:        2020-03-08 10:24:00
category:    个人博客
source:      ProgramCZ's Blog
description: LeetCode周赛专题每周日更新，点击标签CAT - LeetCode Weekly Contest查看更多。 本次比赛通过3题，时间为0 49 34，排名为1400+/6200+。  1374. Generate a String With Characters That Have Odd Co
---

<p>LeetCode周赛专题每周日更新，点击标签<code class="language-plaintext highlighter-rouge">CAT - LeetCode Weekly Contest</code>查看更多。</p>

<p>本次比赛通过<code class="language-plaintext highlighter-rouge">3</code>题，时间为<code class="language-plaintext highlighter-rouge">0:49:34</code>，排名为<code class="language-plaintext highlighter-rouge">1400+/6200+</code>。</p>

<!--more-->

<h2 id="1374-generate-a-string-with-characters-that-have-odd-counts-easy"><a href="https://leetcode.com/contest/weekly-contest-179/problems/generate-a-string-with-characters-that-have-odd-counts/">1374. Generate a String With Characters That Have Odd Counts</a> #Easy</h2>

<h3 id="题目解析">题目解析</h3>

<p>首先，不管奇偶，将<code class="language-plaintext highlighter-rouge">res</code>的前<code class="language-plaintext highlighter-rouge">n-2</code>位全部赋值为<code class="language-plaintext highlighter-rouge">a</code>。</p>

<p>其次，如果<code class="language-plaintext highlighter-rouge">n</code>为奇数，那么<code class="language-plaintext highlighter-rouge">n-2</code>也是奇数，再添加两个不同的字符即可。</p>

<p>最后，如果<code class="language-plaintext highlighter-rouge">n</code>为偶数，那么<code class="language-plaintext highlighter-rouge">n-2</code>也是偶数，再添加一个<code class="language-plaintext highlighter-rouge">a</code>和不同的字符即可。</p>

<h4 id="c-实现">C++ 实现</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">string</span> <span class="n">generateTheString</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="s">"a"</span><span class="p">;</span>
        <span class="n">string</span> <span class="n">res</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="sc">'a'</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s">"bc"</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s">"ac"</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="1375-bulb-switcher-iii-medium"><a href="https://leetcode.com/contest/weekly-contest-179/problems/bulb-switcher-iii/">1375. Bulb Switcher III</a> #Medium</h2>

<h3 id="题目解析-1">题目解析</h3>

<p>首先，声明下标<code class="language-plaintext highlighter-rouge">lidx</code>，用于表示已点亮灯泡中的最大序号，声明下标<code class="language-plaintext highlighter-rouge">bidx</code>，用于表示已变蓝灯泡中的最大序号的后一位。</p>

<p>其次，遍历<code class="language-plaintext highlighter-rouge">light</code>，每次遍历更新<code class="language-plaintext highlighter-rouge">lidx</code>和<code class="language-plaintext highlighter-rouge">bidx</code>，如果发现<code class="language-plaintext highlighter-rouge">bidx</code>是<code class="language-plaintext highlighter-rouge">lidx</code>的后一位，则说明已点亮灯泡均已变蓝，累加计数器<code class="language-plaintext highlighter-rouge">res</code>。</p>

<p>最后，返回<code class="language-plaintext highlighter-rouge">res</code>即可。</p>

<h4 id="c-实现-1">C++ 实现</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">numTimesAllBlue</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">light</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">light</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
        <span class="kt">int</span> <span class="n">lidx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">bidx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">on</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
        <span class="n">on</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">on</span><span class="p">[</span><span class="n">light</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="n">lidx</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">lidx</span><span class="p">,</span> <span class="n">light</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">bidx</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">on</span><span class="p">[</span><span class="n">bidx</span><span class="p">])</span> <span class="o">++</span><span class="n">bidx</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">lidx</span> <span class="o">==</span> <span class="n">bidx</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">++</span><span class="n">res</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="1376-time-needed-to-inform-all-employees-medium"><a href="https://leetcode.com/contest/weekly-contest-179/problems/time-needed-to-inform-all-employees/">1376. Time Needed to Inform All Employees</a> #Medium</h2>

<h3 id="题目解析-2">题目解析</h3>

<p>首先，声明映射<code class="language-plaintext highlighter-rouge">um</code>，用于存放每个人的下属序号，最底层员工不会出现在<code class="language-plaintext highlighter-rouge">um</code>中。</p>

<p>其次，声明栈<code class="language-plaintext highlighter-rouge">s</code>，用于存放通知到每个人时所需时间。</p>

<p>然后，深度优先遍历，不断累加所需时间，如果发现了底层员工，那么将时间最大值记录到<code class="language-plaintext highlighter-rouge">res</code>中。</p>

<p>最后，返回<code class="language-plaintext highlighter-rouge">res</code>即可。</p>

<h4 id="c-实现-2">C++ 实现</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">int</span> <span class="n">numOfMinutes</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">headID</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">manager</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">informTime</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">um</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">manager</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
            <span class="n">um</span><span class="p">[</span><span class="n">manager</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">INT_MIN</span><span class="p">;</span>
        <span class="n">stack</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">;</span>
        <span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">headID</span><span class="p">,</span> <span class="mi">0</span><span class="p">});</span>
        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">s</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
            <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">top</span><span class="p">();</span> <span class="n">s</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">tm</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span> <span class="o">+</span> <span class="n">informTime</span><span class="p">[</span><span class="n">id</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">um</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">id</span><span class="p">)</span> <span class="o">==</span> <span class="n">um</span><span class="p">.</span><span class="n">end</span><span class="p">())</span> <span class="p">{</span>
                <span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">tm</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">new_id</span> <span class="o">:</span> <span class="n">um</span><span class="p">[</span><span class="n">id</span><span class="p">])</span> <span class="p">{</span>
                    <span class="n">s</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">new_id</span><span class="p">,</span> <span class="n">tm</span><span class="p">});</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="1377-frog-position-after-t-seconds-hard"><a href="https://leetcode.com/contest/weekly-contest-179/problems/frog-position-after-t-seconds/">1377. Frog Position After T Seconds</a> #Hard</h2>

<h3 id="题目解析-3">题目解析</h3>

<p>题目中有一点需要明确：<strong>只有当前节点再没有可访问的下一节点时，青蛙才能滞留在当前节点。</strong></p>

<p class="warning">举个例子，当路径为<code class="language-plaintext highlighter-rouge">1-2-3</code>，在<code class="language-plaintext highlighter-rouge">2</code>秒时到达节点<code class="language-plaintext highlighter-rouge">2</code>的概率为<code class="language-plaintext highlighter-rouge">0.0</code>，因为在<code class="language-plaintext highlighter-rouge">2</code>秒时青蛙只可能出现在节点<code class="language-plaintext highlighter-rouge">3</code>，它不能滞留在节点<code class="language-plaintext highlighter-rouge">2</code>。</p>

<p>首先，声明映射<code class="language-plaintext highlighter-rouge">um</code>，用于存放每个节点所能连接节点的序号。</p>

<p>其次，声明队列<code class="language-plaintext highlighter-rouge">q1</code>和<code class="language-plaintext highlighter-rouge">q2</code>，用于存放当前时间步访问的节点。</p>

<p>然后，广度优先搜索，需要注意的几点：</p>

<ul>
  <li>
    <p>只有在第<code class="language-plaintext highlighter-rouge">t</code>秒时发现<code class="language-plaintext highlighter-rouge">id</code>与<code class="language-plaintext highlighter-rouge">target</code>相等，才可以直接返回概率<code class="language-plaintext highlighter-rouge">prob</code>，否则返回概率<code class="language-plaintext highlighter-rouge">0.0</code>。</p>
  </li>
  <li>
    <p>在每次迭代中，概率<code class="language-plaintext highlighter-rouge">prob</code>需要除以可连接节点<code class="language-plaintext highlighter-rouge">um[id]</code>中未访问节点的数量<code class="language-plaintext highlighter-rouge">cnt</code>。</p>
  </li>
  <li>
    <p>如果当前节点<code class="language-plaintext highlighter-rouge">id</code>再没有可访问的下一节点，则将当前节点再重新放回队列<code class="language-plaintext highlighter-rouge">q2</code>中。</p>
  </li>
</ul>

<h4 id="c-实现-3">C++ 实现</h4>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">double</span> <span class="n">frogPosition</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">edges</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">um</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">edges</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">um</span><span class="p">[</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]].</span><span class="n">push_back</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
            <span class="n">um</span><span class="p">[</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]].</span><span class="n">push_back</span><span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
        <span class="p">}</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">visited</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
        <span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">q1</span><span class="p">;</span> <span class="n">q1</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">});</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">queue</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">q2</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">q1</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
                <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">q1</span><span class="p">.</span><span class="n">front</span><span class="p">();</span> <span class="n">q1</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
                <span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">first</span><span class="p">;</span>
                <span class="kt">double</span> <span class="n">prob</span> <span class="o">=</span> <span class="n">p</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">t</span> <span class="o">&amp;&amp;</span> <span class="n">id</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="k">return</span> <span class="n">prob</span><span class="p">;</span>
                <span class="n">visited</span><span class="p">[</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">:</span> <span class="n">um</span><span class="p">[</span><span class="n">id</span><span class="p">])</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">++</span><span class="n">cnt</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">cnt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">q2</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">:</span> <span class="n">um</span><span class="p">[</span><span class="n">id</span><span class="p">])</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">visited</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="p">{</span>
                            <span class="n">q2</span><span class="p">.</span><span class="n">push</span><span class="p">({</span><span class="n">j</span><span class="p">,</span> <span class="n">prob</span><span class="o">/</span><span class="n">cnt</span><span class="p">});</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">q1</span> <span class="o">=</span> <span class="n">q2</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>